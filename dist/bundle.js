(()=>{"use strict";const e=/[a-zA-Z]/,t=document.querySelector("header>h2");let n=document.querySelectorAll("section > .index_container > .img_container");const r=document.querySelector("body > #timer_container > h6").innerText,o=/(Opening|Closing)/.exec(r)[0];let l=e=>{let t,n=new Date,r=n.getDate(),o=n.getMonth(),l=n.getFullYear(),i=n.getDay(),c=n.getHours(),a=r+1;return"Opening"===e&&(t=(()=>{5===i&&(a=r+3),6===i&&(a=r+2),0<=c&&c<=6&&(a=r);let e=new Date(l,o,a,6,30,0,0).getTime()-Date.now();return`${Math.floor(e/864e5)}d ${Math.floor(e%864e5/36e5)}h ${Math.floor(e%36e5/6e4)}m ${Math.floor(e%6e4/1e3)}s`})()),"Closing"===e&&(t=(()=>{let e=new Date(l,o,r,13,0,0).getTime()-Date.now();return`${Math.floor(e%864e5/36e5)}h ${Math.floor(e%36e5/6e4)}m ${Math.floor(e%6e4/1e3)}s`})()),t};document.querySelector("body>#timer_container>#market_clock").innerText=l(o),n.forEach((e=>{let t=e.children,n=t[1].innerText,r="";/[-]/.test(n)?(t[1].style.color="red",r="down"):(t[1].style.color="#00e813",r="up"),t[0].src=`/assets/icons8-${r}-arrow-17.ico`})),setInterval((()=>{document.querySelector("body>#timer_container>#market_clock").innerText=l(o)}),1e3),setInterval((()=>{n.forEach((e=>{let t=e.children,n=t[1].innerText,r="";/[-]/.test(n)?(t[1].style.color="red",r="down"):(t[1].style.color="#00e813",r="up"),t[0].src=`/assets/icons8-${r}-arrow-17.ico`}))}),8e3),t.addEventListener("click",(()=>{const e=t.childNodes,n=window.getSelection();"Enter ticker..."===t.innerText&&(t.innerText=""),e.length>0?n.setPosition(e[0],e[0].length):n.setPosition(t,0)})),t.addEventListener("focus",(()=>{const e=t.childNodes,n=window.getSelection();"Enter ticker..."===t.innerText&&(t.innerText=""),e.length>0?n.setPosition(e[0],e[0].length):n.setPosition(t,0)})),t.addEventListener("keydown",(n=>{let r=t.innerText;if(r.length>=5&&"Backspace"!==n.key&&"Enter"!==n.key&&(n.preventDefault(),alert("Character amount exceeded")),r.length>0){let e=["ArrowLeft","ArrowRight","ArrowDown","ArrowUp","Left","Right","Up","Down","Home","End","Del","Delete","PageUp","PageDown","Insert"];for(const t of e)n.key===t&&(n.preventDefault(),alert("Invalid entry"));if(""===r&&"Enter"===n.key&&(n.preventDefault(),alert("enter a valid ticker")),"Enter"===n.key&&""!==r){let e=window.location.href+"stock/"+r;window.location.href=e}}!1===e.test(n.key)&&"Backspace"!==n.key&&"Enter"!==n.key&&(n.preventDefault(),alert("Invalid entry"))})),t.addEventListener("keyup",(e=>{let t=document.querySelector("h2 div"),n=document.querySelectorAll("h2 br");if("Backspace"===e.key||"Enter"===e.key){if(n.length>0)for(br of n)br&&br.remove();t&&t.remove()}})),t.innerText})();